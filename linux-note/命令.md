# 命令

## 文件管理

### cat

输出文件内容

```shell
cat [选项]... [file]...
```

* `-A`, `--show-all`: 等于`-vET`
* `-b`, `--number-nonblank`: 为输出内容显示行号, 空行不显示行号
* `-e`: 等于`-vE`
* `-E`, `--show-ends`: 在每行结束显示`$`
* `-n`, `--number`: 为输出内容显示行号, 包括空行
* `-s`, `--squeeze-blank`: 将多个空行合并为一个空行
* `-t`: 等于`-vT`
* `-T`, `--show-tabs`: 将TAB字符替换为`^|`显示
* `-u`: (已忽略)
* `-v`, `--show-nonprinting`: 将无法打印字符以`^`和`M-`标识显示, 除了LFD和TAB
* `--help`: 显示帮助
* `--version`: 显示版本信息


### chgrp

修改文件或目录的属组

```shell
chgrp [选项]... 组名 文件...
chgrp [选项]... --reference=参考文件 文件...
```

* `-c`, `--changes`: 同verbose类似, 但只在发生变化时报告
* `-f`, `--silent`, `--quite`: 忽略大部分错误信息
* `-v`, `--verbose`: 为每个处理的文件输出诊断信息
* `--dereference`: 对符号链接所指向的文件生效(默认), 而不是符号链接本身
* `-h`, `--no-dereference`: 对符号链接本身生效, 而不是符号链接所指向的文件
* `--no-preserve-root`: 不对`/`特殊处理(默认)
* `--preserve-root`: 当递归处理`/`时失败
* `--reference=参考文件`: 使用参考文件的属组, 而不指定属组的值
* `-R`, `--recursive`: 递归处理文件和目录
* `-H`: 如果命令行参数是一个指向目录的符号链接, 则穿越它
* `-L`: 穿越所有遇到的指向目录的符号链接
* `-P`: 不穿越任何符号链接(默认)
* `--help`: 显示帮助
* `--version`: 现实版本信息


### chmod

修改文件或目录的权限

```shell
chmod [选项]... 模式[,模式]... 文件...
chmod [选项]... 八进制模式 文件...
chmod [选项]... --reference=参考文件 文件...

# 模式参数
[ugoa...] [[+-=][rwxX]...][,...]
```

* 模式参数
    - `u`: 文件拥有者
    - `g`: 同组用户
    - `o`: 其他用户
    - `a`: 所有用户
    - `+`: 增加权限
    - `-`: 取消权限
    - `=`: 设置权限
    - `r`: 可读, 4
    - `w`: 可写, 2
    - `x`: 可执行, 1
    - `X`: 只有当该文件是个子目录或者该文件已经被设定过为可执行, 才设置为可执行
* 其他参数
    - `-c`, `--changes`: 只在存在变更的情况下显示输出内容
    - `-f`, `--silent`, `--quiet`: 忽略大部分错误信息
    - `-v`, `--verbose`: 为每个处理的文件都输出诊断信息
    - `-R`, `--recursive`: 递归执行
    - `--help`: 显示帮助
    - `--version`: 显示版本信息


### chown

修改文件或目录的属主和属组

一般该命令只有root管理员才有权限使用, 一般用户没有权限修改别人文件的拥有者, 也没有权限可以将自己文件的拥有者修改为其他用户

```shell
chown [选项]... [属主][:[属组]] 文件...
chown [选项]... --reference=参考文件 文件...
```

* `-c`, `--changes`: 只在存在变更的情况下显示输出内容
* `-f`, `--silent`, `--quiet`: 忽略大部分错误信息
* `-v`, `--verbose`: 为每个处理的文件都输出诊断信息
* `--dereference`: 对符号链接指向的文件生效(默认), 而不是符号链接本身
* `-h`, `--no-dereference`: 对符号链接本身生效, 而不是符号链接指向的文件
* `-R`, `--recursive`: 递归操作


## cksum

显示文件的CRC和字节数

```shell
cksum [文件]...
cksum [选项]
```
* `--help`: 显示帮助
* `--version`: 显示版本信息


## cmp

按字节对比两个文件. 若两个文件相同, 则没有输出; 若不同, 则会输出第一个不同处的字符和列数

```shell
cmp [选项]... 文件1 [文件2 [跳过字符数1 [跳过字符数2]]]
```

* `-b`, `--print-bytes`: 打印不同的字节
* `-i 跳过字节数`, `--ignore-initial=跳过字节数`: 跳过指定字节数
* `-i 跳过字节数1:跳过字节数2`, `--ignore-initial=跳过字节数1:跳过字节数2`: 对文件1跳过字节数1, 对文件2跳过字节数2
* `-l`, `--verbose`: 输出所有不同字节的字节数和值
* `-n 限制字节数`, `--bytes=限制字符数`: 对比指定限制的字节数
* `-s`, `--quiet`, `--silent`: 不输出信息
* `--help`: 显示帮助
* `-v`, `--version`: 显示版本信息


## diff

按行对比文件
如果对比的是目录, 则会对比目录中的所有文件, 但不会对比子目录中的文件

```shell
diff [选项]... 文件...
```

* `-i`, `--ignore-case`: 对比文件内容时忽略文件内容的大小写
* `--ignore-file-name-case`: 对比文件名时忽略文件名称的大小写
* `--no-ignore-file-name-case`: 对比文件名称时不忽略文件名称大小写
* `-E`, `--ignore-tab-expansion`: 忽略由于tab产生的差别
* `-b`, `--ignore-space-change`: 忽略空格数量不同产生的差别
* `-w`, `--ignore-all-space`: 忽略所有空格
* `-B`, `--ignore-blank-lines`: 忽略空白行
* `-I 正则`, `--ignore-matching-lines=正则`: 忽略匹配正则表达式的行
* `-a`, `--text`: 将所有文件作为文字处理
* `-c`, `-C 数字`, `--unified[=数字]`: 以副本的方式显示文件的不同, 默认三行
* `-u`, `-U 数字`, `--unified[=数字]`: 以合并的方式显示文件的不同, 默认三行
* `--label 标签`: 使用标签代替文件名
* `-p`, `--show-c-function`: 显示变更所在的C函数
* `-F 正则`, `--show-function-line=正则`: 显示匹配正则的最靠近的行
* `-q`, `--brief`: 只输出文件是否不同
* `-e`, `--ed`: 输出ed脚本
* `--normal`: 输出一个正常的diff
* `-n`, `--rcs`: 输出一个RCS格式的diff
* `-y`, `--side-by-side`: 以两列输出
* `-W 数字`, `--width=数字`: 输出最多指定数量的列, 默认130
* `--left-column`: 只输出左边列的普通行
* `--suppress-common-lines`: 不输出普通行
* `-D 名称`, `--ifdef=名称`: 输出合并的文件来显示"#ifdef 名称"diff
* `--GTYPE-group-format=GFMT`: 使用GFMT格式输入组
* `--line-format=LFMT`: 使用LFMT格式化所有输入行
* `--LTYPE-line-format=LFMT`: 使用LFMT格式化LTYPE输入行
* `-l`, `--paginate`: 通过"pr"传递输出来分页
* `-t`, `--expand-tabs`: 将tab转换为空格输出
* `-T`, `--initial-tab`: 在每行前面加tab补全以便对齐
* `-r`, `--recursive`: 递归对比所有的子目录
* `-N`, `--new-file`: 将另一个目录中没有的文件当做空文件对比
* `--unidirectianl-new-file`: 将第一个另一个目录中没有的文件当做空文件对比
* `-s`, `--report-identical-files`: 当两个文件相同时显示信息
* `-x 路径`, `--exclude=路径`: 将匹配路径的文件排除
* `-X 文件`, `--exclude-from=文件`: 将匹配的文件排除
* `-S 文件`, `--starting-file=文件`: 当对比目录时从指定文件开始
* `--from-file=文件1`: 将文件1与其他文件对比, 文件1可以是一个目录
* `--to-file=文件2`: 将文件2与其他文件对比, 文件2可以是一个目录
* `--horizon-lines=数字`: 保持指定数量行数的前缀和后缀
* `-d`, `--minimal`: 努力尝试找到区别
* `--speed-large-files`: 假设为大体积文件
* `-v`, `--version`: 输出版本信息
* `--help`: 输出帮助


## diffstat

根据diff的结果显示统计信息

```shell
diffstat [选项] [文件指标]
```

* `-b`: 忽略"Binary files XXX and YYY differ"这种内容的行
* `-c`: 将所有输出行加上"#"前缀, 将其作为shell脚本的注释
* `-C`: 增加SGR颜色高亮信息
* `-e 文件`: 将标准错误信息重定向到指定文件
* `-f 格式`: 指定统计信息的格式
    - `0`: 仅显示数值和一个插入(+), 删除(-), 或修改(!)的代码信息
    - `1`: 正常输出
    - `2`: 用点填充图表
    - `4`: 使用图表打印每个图表
* `-h`: 打印有用信息并退出
* `-k`: 忽略报告中的文件名合并
* `-l`: 只列出文件名, 不生成图表
* `-m`: 将插入/删除数合并
* `-n 数字`: 指定文件名最少的宽度. 
* `-N 数字`: 指定文件名的最大宽度.
* `o 文件`: 重定向标准输出到指定文件


## file

识别文件类型

```shell
file [选项][-f <名称文件>][-m <魔法数字文件>...][文件或目录...]
```

* `-b`: 列出辨识结果时, 不显示文件名称
* `-c`: 详细显示指令执行过程, 便于排错或分析程序执行的情形
* `-f <名称文件>`: 指定名称文件, 其内容有一个或多个文件名称呢感, 让file依序辨识这些文件, 格式为每列一个文件名称
* `-L`: 直接显示符号连接所指向的文件的类别
* `-m <魔法数字文件>`: 指定魔法数字文件
* `-v`: 显示版本信息
* `-z`: 尝试去解读压缩文件的内容
* `[文件或目录...]`:要确定类型的文件列表, 多个文件之间使用空格分开, 可以使用shell通配符匹配多个文件


## find

在指定目录中查找文件

```shell
find path -option [ -print] [-exec -ok command ] {};
```


## cut

将文件的指定部分打印到标准输出流

```shell
cut 选项... [文件]...
```

* `-b`, `--bytes=LIST`: 只选择这些字节
* `-c`, `--characters=LIST`: 只选择这些字符
* `-d`, `--delemiter=DELIM`: 使用DELIM代替TAB
* `-f`, `--fields=LIST`: 只选择这些字段
* `-n`: 忽略
* `--complement`: 补全选择的字节, 字符或字段
* `-s`, `--only-delimited`: 不打印不包含分隔符的行
* `--output-delimiter=字符串`: 使用指定字符串作为输出分隔符
* `-z`, `--zero-terminated`: 行分隔符是NUL, 而不是新行


## ln

创建文件链接.
链接分为`硬链接`和`软链接`. 默认创建硬链接, 使用`--symbolic`创建软链接
* 软链接(symbolic link)：
    - 软链接, 以路径的形式存在, 类似于Windows操作系统中的快捷方式
    - 软链接可以跨文件系统, 硬链接不可以
    - 软链接可以对一个不存在的文件名进行链接
    - 软链接可以对目录进行链接
* 硬链接(hard link)：
    - 硬链接, 以文件副本的形式存在, 但不占用实际空间
    - 不允许给目录创建硬链接
    - 硬链接只有在同一个文件系统中才能创建

```shell
ln [选项]... [-T] 目标 链接名称   # 第一种形式
ln [选项]... 目标                 # 第二种形式
ln [选项]... 目标... 目录         # 第三种形式
ln [选项]... -t 目录 目标...      # 第四种形式
```

* 第一种形式: 使用指定的`链接名称`创建一个链接到指定`目标`的链接
* 第二种形式: 创建一个当前目录中的指定`目标`的链接
* 第三, 四种形式: 为指定`目录`中的指定`目标`创建链接
* `--backup[=CONTROL]`: 为所有存在的目标文件创建一个备份
* `-b`: 同`--backup`类似, 但不接受参数
* `-d`, `-F`, `--directory`: 允许超级管理员尝试对目录创建硬链接
* `-f`, `--force`: 删除已经存在的目标文件
* `-i`, `--interactive`: 提示是否删除目标文件
* `-L`, `--logical`: 对软链接目标解引用
* `-n`, `--no-dereference`: 如果是指向目录的软链接, 则将`链接名称`看作正常文件
* `-P`, `--physical`: 对软链接创建硬链接
* `-r`, `--relative`: 相对于链接位置创建软链接
* `-s`, `--symbolic`: 创建软链接
* `-S`, `--suffix=SUFFIX`: 复写通常的备份后缀
* `-t`, `--target-directory=DIRECTORY`: 指定创建链接的目录
* `-T`, `--no-target-directory`: 将`链接名称`看作正常文件
* `-v`, `--verbose`: 打印每个链接文件的名称


## less

查看文件, 可随意浏览, 在查看之前不会加载完整文件

```shell
less [选项]... [文件]...
```

* `-b <缓冲区大小>`: 设置缓冲区的大小
* `-e`: 当文件显示结束后, 自动离开
* `-f`: 强迫打开特殊文件, 例如外围设备代号, 目录和二进制文件
* `-g`: 只标志最后搜索的关键词
* `-i`: 忽略搜索时的大小写
* `-m`: 显示类似more命令的百分比
* `-N`: 显示每行的行号
* `-o <文件名>`: 将less输出的内容在指定文件中保存起来
* `-Q`: 不使用警告音
* `-s`: 显示连续空行为一行
* `-S`: 行过长时间将超出部分舍弃
* `-x <数字>`: 将"tab"键显示为规定的数字空格
* `/字符串`: 向下搜索"字符串"的功能
* `?字符串`: 向上搜索"字符串"的功能
* `n`: 重复前一个搜索(与 / 或 ? 有关)
* `N`: 反向重复前一个搜索(与 / 或 ? 有关)
* `b`: 向后翻一页
* `d`: 向后翻半页
* `h`: 显示帮助界面
* `Q`: 退出less 命令
* `u`: 向前滚动半页
* `y`: 向前滚动一行
* `空格键`: 滚动一行
* `回车键`: 滚动一页
* `[pagedown]`: 向下翻动一页
* `[pageup]`: 向上翻动一页


## mktemp

创建一个临时文件或临时目录

```shell
mktemp [选项]... 临时文件名
```

* `-d`, `--directory`: 创建一个临时目录
* `-u`, `--dry-run`: 不创建任何东西, 只打印一个名称
* `-q`, `--quiet`: 忽略错误
* `--suffix=SUFF`: 添加前缀, 前缀不能包含斜杠
* `-p DIR`, `--tmpdir[=DIR]`: 指定临时文件所在的目录, 如果没有指定目录, 则使用`$TMPDIR`环境变量, 如果没有该环境变量, 则使用`/tmp`


## more

类似cat, 不过会以一页一页的形式显示, 更方便使用者逐页阅读, 而最基本的指令就是按空白键`space`就往下一页显示, 按`b`键就会往回(back)一页显示, 而且还有搜寻字串的功能(与 vi 相似), 使用中的说明文件, 请按 h

```shell
more [选项] [-num] [+/pattern] [+linenum] [文件..]
```

* `-num`: 一次显示的行数
* `-d`: 提示使用者, 在画面下方显示`Press space to continue, 'q' to quit.`, 如果使用者按错键, 则会显示`Press 'h' for instructions.`而不是 '哔' 声
* `-l`: 取消遇见特殊字元`^L`(送纸字元)时会暂停的功能
* `-f`: 计算行数时, 以实际上的行数, 而非自动换行过后的行数(有些单行字数太长的会被扩展为两行或两行以上)
* `-p`: 不以卷动的方式显示每一页, 而是先清除萤幕后再显示内容
* `-c`: 跟`-p`相似, 不同的是先显示内容再清除其他旧资料
* `-s`: 当遇到有连续两行以上的空白行, 就代换为一行的空白行
* `-u`: 不显示下引号(根据环境变数 TERM 指定的 terminal 而有所不同)
* `+/pattern`: 在每个文档显示前搜寻该字串(pattern), 然后从该字串之后开始显示
* `+num`: 从第 num 行开始显示
* `fileNames`: 欲显示内容的文档, 可为复数个数
