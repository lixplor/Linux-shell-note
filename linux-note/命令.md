# 命令

## 命令连接符

#### `$`

```bash
# 使用变量
$变量名

# 获取SHELL的PID
echo $$

# 获取上一个命令的执行结果, 0表示执行正确, 非0表示错误
$?
```

#### `&&`和`||`

```bash
# 当命令1执行完并正确, 则继续执行命令2; 如果命令1执行错误, 则不会执行命令2
命令1 && 命令2

# 当命令1执行完并正确, 则不会执行命令2; 如果命令1执行错误, 则继续执行命令2
命令1 || 命令2
```

#### `>`和`>>`输出重定向到文件

* `>`: 输出重定向, 覆盖文件
* `>>`: 输出重定向, 追加到文件末尾

```bash
# 将ps命令显示的结果输出到文件
ps -ef > process.txt

# 同上, 追加写入
ps -ef >> process.txt

# 将输出信息丢弃到垃圾桶
ps -ef > /dev/null
```

#### `<`和`<<`输入重定向到文件

* `<`: 从文件获取输入
* `<<`: 从文件获取输入, 当遇到指定的字符时结束输入

```bash
# 将文件的内容作为wc命令参数, 用于统计行数
wc -l < process.txt

# 将键盘录入作为输入, 并在输入eof后结束输入
cat > input.txt << "eof"
```

#### `|`管道

* 将命令的结果继续作为下一条命令的参数执行

```bash
# 从进程信息中筛选出tomcat
ps -ef | grep 'tomcat'
```

## 文件管理

### 文件属主属组权限

#### chown

修改文件或目录的属主和属组

一般该命令只有root管理员才有权限使用, 一般用户没有权限修改别人文件的拥有者, 也没有权限可以将自己文件的拥有者修改为其他用户

```bash
chown [选项]... [属主][:[属组]] 文件...
chown [选项]... --reference=参考文件 文件...
```

* `-c`, `--changes`: 只在存在变更的情况下显示输出内容
* `-f`, `--silent`, `--quiet`: 忽略大部分错误信息
* `-v`, `--verbose`: 为每个处理的文件都输出诊断信息
* `--dereference`: 对符号链接指向的文件生效(默认), 而不是符号链接本身
* `-h`, `--no-dereference`: 对符号链接本身生效, 而不是符号链接指向的文件
* `-R`, `--recursive`: 递归操作

#### chgrp

修改文件或目录的属组

```bash
chgrp [选项]... 组名 文件...
chgrp [选项]... --reference=参考文件 文件...
```

* `-c`, `--changes`: 同verbose类似, 但只在发生变化时报告
* `-f`, `--silent`, `--quite`: 忽略大部分错误信息
* `-v`, `--verbose`: 为每个处理的文件输出诊断信息
* `--dereference`: 对符号链接所指向的文件生效(默认), 而不是符号链接本身
* `-h`, `--no-dereference`: 对符号链接本身生效, 而不是符号链接所指向的文件
* `--no-preserve-root`: 不对`/`特殊处理(默认)
* `--preserve-root`: 当递归处理`/`时失败
* `--reference=参考文件`: 使用参考文件的属组, 而不指定属组的值
* `-R`, `--recursive`: 递归处理文件和目录
* `-H`: 如果命令行参数是一个指向目录的符号链接, 则穿越它
* `-L`: 穿越所有遇到的指向目录的符号链接
* `-P`: 不穿越任何符号链接(默认)
* `--help`: 显示帮助
* `--version`: 现实版本信息

#### chmod

修改文件或目录的权限

```bash
chmod [选项]... 模式[,模式]... 文件...
chmod [选项]... 八进制模式 文件...
chmod [选项]... --reference=参考文件 文件...

# 模式参数
[ugoa...] [[+-=][rwxX]...][,...]
```

* 模式参数
    - `u`: 文件拥有者
    - `g`: 同组用户
    - `o`: 其他用户
    - `a`: 所有用户
    - `+`: 增加权限
    - `-`: 取消权限
    - `=`: 设置权限
    - `r`: 可读, 4
    - `w`: 可写, 2
    - `x`: 可执行, 1
    - `X`: 只有当该文件是个子目录或者该文件已经被设定过为可执行, 才设置为可执行
* 其他参数
    - `-c`, `--changes`: 只在存在变更的情况下显示输出内容
    - `-f`, `--silent`, `--quiet`: 忽略大部分错误信息
    - `-v`, `--verbose`: 为每个处理的文件都输出诊断信息
    - `-R`, `--recursive`: 递归执行
    - `--help`: 显示帮助
    - `--version`: 显示版本信息

#### umask

指定在建立文件时预设的权限掩码
[权限掩码]是由3个八进制的数字所组成, 将现有的存取权限减掉权限掩码后, 即可产生建立文件时预设的权限

```bash
umask [选项]... 权限掩码
```

* `-S`: 以文字的方式来表示权限掩码

#### file

识别文件类型

```bash
file [选项][-f <名称文件>][-m <魔法数字文件>...][文件或目录...]
```

* `-b`: 列出辨识结果时, 不显示文件名称
* `-c`: 详细显示指令执行过程, 便于排错或分析程序执行的情形
* `-f <名称文件>`: 指定名称文件, 其内容有一个或多个文件名称呢感, 让file依序辨识这些文件, 格式为每列一个文件名称
* `-L`: 直接显示符号连接所指向的文件的类别
* `-m <魔法数字文件>`: 指定魔法数字文件
* `-v`: 显示版本信息
* `-z`: 尝试去解读压缩文件的内容
* `[文件或目录...]`:要确定类型的文件列表, 多个文件之间使用空格分开, 可以使用shell通配符匹配多个文件

### 查看文件内容

#### head

输出文件的开头10行

```bash
head [选项]... [文件]...
```

* `-c`, `--bytes=[-]NUM`: 输出指定数量的开头的byte; 或使用`-NUM`输出指定数量的最后的byte
* `-n`, `--lines=[-]NUM`: 输出指定数量的开头几行; 或使用`-NUM`输出指定数量的最后几行
* `-q`, `--quiet`, `--silent`: 隐藏文件名
* `-v`, `--verbose`: 显示文件名

#### tail

输出文件的最后10行, -f选项会动态更新内容

```bash
tail [选项]... [文件]...
```

* `-c`, `--bytes=[+]NUM`: 输出指定数量的最后的byte; 或使用`+NUM`输出指定数量的最开始的byte
* `-f`, `--follow[={name|descriptor}]`: 随着文件增长而输出追加的数据
* `-F`: 与`--follow=name --retry`相同
* `-n`, `-lines=[+]NUM`: 输出指定数量的最后几行; 或使用`+NUM`输出指定数量的最开始几行
* `--retry`: 如果文件无法访问, 继续尝试打开
* `-s`, `--sleep-interval=N`: 同`-f`一起使用, 在每次迭代间睡大约N秒(默认1秒)

#### cat

输出文件内容

```bash
cat [选项]... [file]...
```

* `-A`, `--show-all`: 等于`-vET`
* `-b`, `--number-nonblank`: 为输出内容显示行号, 空行不显示行号
* `-e`: 等于`-vE`
* `-E`, `--show-ends`: 在每行结束显示`$`
* `-n`, `--number`: 为输出内容显示行号, 包括空行
* `-s`, `--squeeze-blank`: 将多个空行合并为一个空行
* `-t`: 等于`-vT`
* `-T`, `--show-tabs`: 将TAB字符替换为`^|`显示
* `-u`: (已忽略)
* `-v`, `--show-nonprinting`: 将无法打印字符以`^`和`M-`标识显示, 除了LFD和TAB
* `--help`: 显示帮助
* `--version`: 显示版本信息

#### tac

cat的倒序版, 从尾向头输出内容

#### less

查看文件, 可随意浏览, 在查看之前不会加载完整文件

```bash
less [选项]... [文件]...
```

* `-b <缓冲区大小>`: 设置缓冲区的大小
* `-e`: 当文件显示结束后, 自动离开
* `-f`: 强迫打开特殊文件, 例如外围设备代号, 目录和二进制文件
* `-g`: 只标志最后搜索的关键词
* `-i`: 忽略搜索时的大小写
* `-m`: 显示类似more命令的百分比
* `-N`: 显示每行的行号
* `-o <文件名>`: 将less输出的内容在指定文件中保存起来
* `-Q`: 不使用警告音
* `-s`: 显示连续空行为一行
* `-S`: 行过长时间将超出部分舍弃
* `-x <数字>`: 将"tab"键显示为规定的数字空格
* `/字符串`: 向下搜索"字符串"的功能
* `?字符串`: 向上搜索"字符串"的功能
* `n`: 重复前一个搜索(与 / 或 ? 有关)
* `N`: 反向重复前一个搜索(与 / 或 ? 有关)
* `b`: 向后翻一页
* `d`: 向后翻半页
* `h`: 显示帮助界面
* `Q`: 退出less 命令
* `u`: 向前滚动半页
* `y`: 向前滚动一行
* `空格键`: 滚动一行
* `回车键`: 滚动一页
* `[pagedown]`: 向下翻动一页
* `[pageup]`: 向上翻动一页

#### more

类似cat, 不过会以一页一页的形式显示, 更方便使用者逐页阅读, 而最基本的指令就是按空白键`space`就往下一页显示, 按`b`键就会往回(back)一页显示, 而且还有搜寻字串的功能(与 vi 相似), 使用中的说明文件, 请按 h

```bash
more [选项] [-num] [+/pattern] [+linenum] [文件..]
```

* `-num`: 一次显示的行数
* `-d`: 提示使用者, 在画面下方显示`Press space to continue, 'q' to quit.`, 如果使用者按错键, 则会显示`Press 'h' for instructions.`而不是 '哔' 声
* `-l`: 取消遇见特殊字元`^L`(送纸字元)时会暂停的功能
* `-f`: 计算行数时, 以实际上的行数, 而非自动换行过后的行数(有些单行字数太长的会被扩展为两行或两行以上)
* `-p`: 不以卷动的方式显示每一页, 而是先清除萤幕后再显示内容
* `-c`: 跟`-p`相似, 不同的是先显示内容再清除其他旧资料
* `-s`: 当遇到有连续两行以上的空白行, 就代换为一行的空白行
* `-u`: 不显示下引号(根据环境变数 TERM 指定的 terminal 而有所不同)
* `+/pattern`: 在每个文档显示前搜寻该字串(pattern), 然后从该字串之后开始显示
* `+num`: 从第 num 行开始显示
* `fileNames`: 欲显示内容的文档, 可为复数个数


### 文件对比

#### cksum

显示文件的CRC和字节数

```bash
cksum [文件]...
cksum [选项]
```
* `--help`: 显示帮助
* `--version`: 显示版本信息

#### cmp

按字节对比两个文件. 若两个文件相同, 则没有输出; 若不同, 则会输出第一个不同处的字符和列数

```bash
cmp [选项]... 文件1 [文件2 [跳过字符数1 [跳过字符数2]]]
```

* `-b`, `--print-bytes`: 打印不同的字节
* `-i 跳过字节数`, `--ignore-initial=跳过字节数`: 跳过指定字节数
* `-i 跳过字节数1:跳过字节数2`, `--ignore-initial=跳过字节数1:跳过字节数2`: 对文件1跳过字节数1, 对文件2跳过字节数2
* `-l`, `--verbose`: 输出所有不同字节的字节数和值
* `-n 限制字节数`, `--bytes=限制字符数`: 对比指定限制的字节数
* `-s`, `--quiet`, `--silent`: 不输出信息
* `--help`: 显示帮助
* `-v`, `--version`: 显示版本信息

#### diff

按行对比文件
如果对比的是目录, 则会对比目录中的所有文件, 但不会对比子目录中的文件

```bash
diff [选项]... 文件...
```

* `-i`, `--ignore-case`: 对比文件内容时忽略文件内容的大小写
* `--ignore-file-name-case`: 对比文件名时忽略文件名称的大小写
* `--no-ignore-file-name-case`: 对比文件名称时不忽略文件名称大小写
* `-E`, `--ignore-tab-expansion`: 忽略由于tab产生的差别
* `-b`, `--ignore-space-change`: 忽略空格数量不同产生的差别
* `-w`, `--ignore-all-space`: 忽略所有空格
* `-B`, `--ignore-blank-lines`: 忽略空白行
* `-I 正则`, `--ignore-matching-lines=正则`: 忽略匹配正则表达式的行
* `-a`, `--text`: 将所有文件作为文字处理
* `-c`, `-C 数字`, `--unified[=数字]`: 以副本的方式显示文件的不同, 默认三行
* `-u`, `-U 数字`, `--unified[=数字]`: 以合并的方式显示文件的不同, 默认三行
* `--label 标签`: 使用标签代替文件名
* `-p`, `--show-c-function`: 显示变更所在的C函数
* `-F 正则`, `--show-function-line=正则`: 显示匹配正则的最靠近的行
* `-q`, `--brief`: 只输出文件是否不同
* `-e`, `--ed`: 输出ed脚本
* `--normal`: 输出一个正常的diff
* `-n`, `--rcs`: 输出一个RCS格式的diff
* `-y`, `--side-by-side`: 以两列输出
* `-W 数字`, `--width=数字`: 输出最多指定数量的列, 默认130
* `--left-column`: 只输出左边列的普通行
* `--suppress-common-lines`: 不输出普通行
* `-D 名称`, `--ifdef=名称`: 输出合并的文件来显示"#ifdef 名称"diff
* `--GTYPE-group-format=GFMT`: 使用GFMT格式输入组
* `--line-format=LFMT`: 使用LFMT格式化所有输入行
* `--LTYPE-line-format=LFMT`: 使用LFMT格式化LTYPE输入行
* `-l`, `--paginate`: 通过"pr"传递输出来分页
* `-t`, `--expand-tabs`: 将tab转换为空格输出
* `-T`, `--initial-tab`: 在每行前面加tab补全以便对齐
* `-r`, `--recursive`: 递归对比所有的子目录
* `-N`, `--new-file`: 将另一个目录中没有的文件当做空文件对比
* `--unidirectianl-new-file`: 将第一个另一个目录中没有的文件当做空文件对比
* `-s`, `--report-identical-files`: 当两个文件相同时显示信息
* `-x 路径`, `--exclude=路径`: 将匹配路径的文件排除
* `-X 文件`, `--exclude-from=文件`: 将匹配的文件排除
* `-S 文件`, `--starting-file=文件`: 当对比目录时从指定文件开始
* `--from-file=文件1`: 将文件1与其他文件对比, 文件1可以是一个目录
* `--to-file=文件2`: 将文件2与其他文件对比, 文件2可以是一个目录
* `--horizon-lines=数字`: 保持指定数量行数的前缀和后缀
* `-d`, `--minimal`: 努力尝试找到区别
* `--speed-large-files`: 假设为大体积文件
* `-v`, `--version`: 输出版本信息
* `--help`: 输出帮助

#### diffstat

根据diff的结果显示统计信息

```bash
diffstat [选项] [文件指标]
```

* `-b`: 忽略"Binary files XXX and YYY differ"这种内容的行
* `-c`: 将所有输出行加上"#"前缀, 将其作为shell脚本的注释
* `-C`: 增加SGR颜色高亮信息
* `-e 文件`: 将标准错误信息重定向到指定文件
* `-f 格式`: 指定统计信息的格式
    - `0`: 仅显示数值和一个插入(+), 删除(-), 或修改(!)的代码信息
    - `1`: 正常输出
    - `2`: 用点填充图表
    - `4`: 使用图表打印每个图表
* `-h`: 打印有用信息并退出
* `-k`: 忽略报告中的文件名合并
* `-l`: 只列出文件名, 不生成图表
* `-m`: 将插入/删除数合并
* `-n 数字`: 指定文件名最少的宽度.
* `-N 数字`: 指定文件名的最大宽度.
* `o 文件`: 重定向标准输出到指定文件

### 查找文件

#### find

在指定目录中查找文件

```bash
find path -option [ -print] [-exec -ok command ] {};
```

#### which

在`$PATH`中寻找文件

```bash
which [文件]...
```

* `-n <文件名长度>`: 指定文件名长度, 指定的长度必须大于或等于所有文件中最长的文件名
* `-p <文件名长度>`: 与-n参数相同, 但此处的`<文件名长度>`包括了文件的路径

#### whereis

在特定目录中查找二进制文件, 源代码文件和man手册页, 并且只能查询这些内容

```bash
whereis [选项] [-B <目录>...] [-M <目录>...] [-S <目录>...] [文件...]
```

* `-b`: 只查找二进制文件
* `-B <目录>`: 只在设置的目录下查找二进制文件
* `-f`: 不显示文件名前的路径名称
* `-m`: 只查找说明文件
* `-M <目录>`: 只在设置的目录下查找说明文件
* `-s`: 只查找原始代码文件
* `-S <目录>`: 只在设置的目录下查找原始代码文件
* `-u`: 查找不包含指定类型的文件

#### locate

查找符合条件的文档, 会在保存文档和目录名称的数据库中查找

```bash
locate [选项] [范本样式...]
```

* `-d`, `--database=`: 配置locate指令使用的数据库. locate指令预设的数据库位于`/var/lib/slocate`目录里, 文档名为`slocate.db`, 您可使用这个参数另行指定

### 文件创建, 删除

#### touch

将文件或目录的访问时间和修改时间更新为当前时间
如果文件不存在, 则创建一个新的文件

```bash
touch [选项]... 文件...
```

* `-a`: 仅修改访问时间
* `-c`, `--no-create`: 不创建文件
* `-d`, `--date=STRING`: 解析STRING作为要修改的时间
* `-h`, `--no-dereference`: 对符号连接生效, 而不是其指向的文件
* `-m`: 仅更新修改时间
* `-r`, `--reference=FILE`; 使用指定文件的时间属性来更新当前文件
* `-t STAMP`: 使用`[[CC]YY]MMDDhhmm[.ss]`格式的时间

#### rm

删除文件或目录

```bash
rm [选项]... [文件]...
```

* `-f`, `--force`: 忽略不存在的文件和参数, 不会提示
* `-i`: 每次删除前进行提示
* `-I`: 删除一个以上文件时提示一次
* `-r`, `-R`, `--recursive`: 递归删除目录及其内容
* `-d`, `--dir`: 删除空目录
* `-v`, `--verbose`: 显示详细信息

#### mktemp

创建一个临时文件或临时目录

```bash
mktemp [选项]... 临时文件名
```

* `-d`, `--directory`: 创建一个临时目录
* `-u`, `--dry-run`: 不创建任何东西, 只打印一个名称
* `-q`, `--quiet`: 忽略错误
* `--suffix=SUFF`: 添加前缀, 前缀不能包含斜杠
* `-p DIR`, `--tmpdir[=DIR]`: 指定临时文件所在的目录, 如果没有指定目录, 则使用`$TMPDIR`环境变量, 如果没有该环境变量, 则使用`/tmp`

#### ln

创建文件链接.
链接分为`硬链接`和`软链接`. 默认创建硬链接, 使用`--symbolic`创建软链接
* 软链接(symbolic link)：
    - 软链接, 以路径的形式存在, 类似于Windows操作系统中的快捷方式
    - 软链接可以跨文件系统, 硬链接不可以
    - 软链接可以对一个不存在的文件名进行链接
    - 软链接可以对目录进行链接
* 硬链接(hard link)：
    - 硬链接, 以文件副本的形式存在, 但不占用实际空间
    - 不允许给目录创建硬链接
    - 硬链接只有在同一个文件系统中才能创建

```bash
ln [选项]... [-T] 目标 链接名称   # 第一种形式
ln [选项]... 目标                 # 第二种形式
ln [选项]... 目标... 目录         # 第三种形式
ln [选项]... -t 目录 目标...      # 第四种形式
```

* 第一种形式: 使用指定的`链接名称`创建一个链接到指定`目标`的链接
* 第二种形式: 创建一个当前目录中的指定`目标`的链接
* 第三, 四种形式: 为指定`目录`中的指定`目标`创建链接
* `--backup[=CONTROL]`: 为所有存在的目标文件创建一个备份
* `-b`: 同`--backup`类似, 但不接受参数
* `-d`, `-F`, `--directory`: 允许超级管理员尝试对目录创建硬链接
* `-f`, `--force`: 删除已经存在的目标文件
* `-i`, `--interactive`: 提示是否删除目标文件
* `-L`, `--logical`: 对软链接目标解引用
* `-n`, `--no-dereference`: 如果是指向目录的软链接, 则将`链接名称`看作正常文件
* `-P`, `--physical`: 对软链接创建硬链接
* `-r`, `--relative`: 相对于链接位置创建软链接
* `-s`, `--symbolic`: 创建软链接
* `-S`, `--suffix=SUFFIX`: 复写通常的备份后缀
* `-t`, `--target-directory=DIRECTORY`: 指定创建链接的目录
* `-T`, `--no-target-directory`: 将`链接名称`看作正常文件
* `-v`, `--verbose`: 打印每个链接文件的名称

### 文件剪切, 复制, 粘贴

#### mv

移动或重命名文件或目录

```bash
mv [选项]... 源文件 目标文件
mv [选项]... 源文件 目标目录
mv [选项]... 源目录 目标目录
```

`-i`: 若指定目录已有同名文件, 则先询问是否覆盖旧文件
`-f`: 在mv操作要覆盖某已有的目标文件时不给任何指示

#### cp

复制文件或目录

```bash
cp [选项]... 源文件 目标文件
cp [选项]... 源文件... 目标目录
```

* `-a`: 此选项通常在复制目录时使用, 它保留链接, 文件属性, 并复制目录下的所有内容. 其作用等于dpR参数组合
* `-d`: 复制时保留链接. 这里所说的链接相当于Windows系统中的快捷方式
* `-f`: 覆盖已经存在的目标文件而不给出提示
* `-i`: 与-f选项相反, 在覆盖目标文件之前给出提示, 要求用户确认是否覆盖, 回答"y"时目标文件将被覆盖
* `-p`: 除复制文件的内容外, 还把修改时间和访问权限也复制到新文件中
* `-r`: 若给出的源文件是一个目录文件, 此时将复制该目录下所有的子目录和文件
* `-l`: 不复制文件, 只是生成链接文件

#### scp

在Linux之间通过ssh复制文件或目录

```bash
scp [选项] [-c cipher] [-F ssh_config] [-i identity_file] [-l limit] [-o ssh_option] [-P port] [-S program] [[user@]host1:]file1 [...] [[user@]host2:]file2
scp [选项] file_source file_target
```

* `-1`: 强制scp命令使用协议ssh1
* `-2`: 强制scp命令使用协议ssh2
* `-4`: 强制scp命令只使用IPv4寻址
* `-6`: 强制scp命令只使用IPv6寻址
* `-B`: 使用批处理模式(传输过程中不询问传输口令或短语)
* `-C`: 允许压缩. (将-C标志传递给ssh, 从而打开压缩功能)
* `-p`: 保留原文件的修改时间, 访问时间和访问权限
* `-q`: 不显示传输进度条
* `-r`: 递归复制整个目录
* `-v`: 详细方式显示输出. scp和ssh(1)会显示出整个过程的调试信息. 这些信息用于调试连接, 验证和配置问题
* `-c cipher`: 以cipher将数据传输进行加密, 这个选项将直接传递给ssh
* `-F ssh_config`: 指定一个替代的ssh配置文件, 此参数直接传递给ssh
* `-i identity_file`: 从指定文件中读取传输时使用的密钥文件, 此参数直接传递给ssh
* `-l limit`: 限定用户所能使用的带宽, 以Kbit/s为单位
* `-o ssh_option`: 如果习惯于使用ssh_config(5)中的参数传递方式
* `-P port`: 注意是大写的P, port是指定数据传输用到的端口号
* `-S program`: 指定加密传输时所使用的程序. 此程序必须能够理解ssh(1)的选项

#### cut

将文件的指定部分打印到标准输出流

```bash
cut 选项... [文件]...
```

* `-b`, `--bytes=LIST`: 只选择这些字节
* `-c`, `--characters=LIST`: 只选择这些字符
* `-d`, `--delemiter=DELIM`: 使用DELIM代替TAB
* `-f`, `--fields=LIST`: 只选择这些字段
* `-n`: 忽略
* `--complement`: 补全选择的字节, 字符或字段
* `-s`, `--only-delimited`: 不打印不包含分隔符的行
* `--output-delimiter=字符串`: 使用指定字符串作为输出分隔符
* `-z`, `--zero-terminated`: 行分隔符是NUL, 而不是新行

#### split

将文件切分为多个子文件
子文件名称为`前缀aa`, `前缀ab`...

```bash
split [选项]... [文件 [前缀]]
```

* `-a`, `--suffix-length=N`: 设置后缀长度为N, 默认是2
* `--additional-suffix=SUFFIX`: 增加额外的后缀
* `-b`, `--bytes=SIZE`: 指定每个子文件的字节数
* `-C`, `--line-bytes=SIZE`: 指定每个子文件每行最大字节数
* `-d`: 使用从0开始的数字后缀, 而不是字母
* `--numeric-suffixes[=FROM]`: 同`-d`类似, 但允许设置初始值
* `-e`, `--elide-empty-files`: 不生成空的文件
* `--filter=COMMAND`: 输出到指定命令
* `-l`, `--lines=NUMBER`: 指定子文件的行数
* `-n`, `--number=CHUNKS`: 生成指定数量的子文件
* `-t`, `--separator=SEP`: 使用SEP替换换行符

#### paste

将文件的多行合并为一行, 以tab分隔

```bash
paste [选项]... [文件]...
```

* `-d`, `--delimiters=LIST`: 使用指定的LIST分隔符替换tab
* `-s`, `--serial`: 串行处理文件, 即一次合并一个文件, 而不是并行处理
* `-z`, `--zero-terminated`: 行分隔符是NUL, 而非新行

### 目录操作

#### ls

查看当前目录下的所有文件和目录

```bash
ls [选项]... [文件]...
```

* `-a`, `--all`: 显示所有文件和目录, 包括以`.`开头的隐藏文件和目录
* `-A`, `--almost-all`: 不显示`.`和`..`
* `-c`:
    - 配合`-lt`: 根据ctime排序及显示ctime(文件状态最后更改的时间)
    - 配合 -l: 显示ctime但根据名称排序
    - 否则: 根据 ctime 排序
* `-C`: 每栏由上至下列出项目
* `–color[=WHEN]`: 控制是否使用色彩分辨文件. WHEN 可以是`never`, `always`或`auto`其中之一
* `-d`, `–directory`: 将目录象文件一样显示, 而不是显示其下的文件
* `-D`, `–dired`: 产生适合 Emacs 的 dired 模式使用的结果
* `-f`: 对输出的文件不进行排序, -aU 选项生效, -lst 选项失效
* `-g`: 类似 -l, 但不列出所有者
* `-G`, `–no-group`: 不列出任何有关组的信息
* `-h`, `–human-readable`: 以容易理解的格式列出文件大小(例如 1K 234M 2G)
* `–si`: 类似 -h, 但文件大小取 1000 的次方而不是 1024
* `-H`, `–dereference-command-line`: 使用命令列中的符号链接指示的真正目的地
* `–indicator-style=方式`: 指定在每个项目名称后加上指示符号`<方式>`: `none` (默认), `classify` (-F), `file-type` (-p)
* `-i`, `–inode`: 印出每个文件的 inode 号
* `-I`, `–ignore=样式`: 不印出任何符合 shell 万用字符`<样式>`的项目
* `-k`: 即 `–block-size=1K`, 以 k 字节的形式表示文件的大小
* `-l`: 除了文件名之外, 还将文件的权限, 所有者, 文件大小等信息详细列出来
* `-L`, `–dereference`: 当显示符号链接的文件信息时, 显示符号链接所指示的对象而并非符号链接本身的信息
* `-m`: 所有项目以逗号分隔, 并填满整行行宽
* `-o`: 类似 -l, 显示文件的除组信息外的详细信息   
* `-r`, `–reverse`: 依相反次序排列
* `-R`, `–recursive`: 同时列出所有子目录层
* `-s`, `–size`: 以块大小为单位列出所有文件的大小
* `-S`: 根据文件大小排序
* `–sort=WORD`: 以下是可选用的 WORD 和它们代表的相应选项:
    - extension -X status -c
    - none -U time -t
    - size -S atime -u
    - time -t access -u
    - version -v use -u
* `-t`: 以文件修改时间排序
* `-u`:
    - 配合`-lt`: 显示访问时间而且依访问时间排序
    - 配合`-l`: 显示访问时间但根据名称排序
    - 否则: 根据访问时间排序
* `-U`: 不进行排序; 依文件系统原有的次序列出项目
* `-v`: 根据版本进行排序
* `-w`, `–width=COLS`: 自行指定屏幕宽度而不使用目前的数值
* `-x`: 逐行列出项目而不是逐栏列出
* `-X`: 根据扩展名排序
* `-1`: 每行只列出一个文件

#### mkdir

创建目录

```bash
mkdir [选项]... 目录...
```

* `-m`, `--mode=MODE`: 设置文件模式(类似chmod), 而不是`a = rwx - umask`
* `p`, `--parents`: 如果路径中有不存在的父级目录, 则创建缺失的父目录

#### rmdir

删除空目录

```bash
rmdir [选项]... 目录...
```

* `--ignore-fail-on-non-empty`: 忽略由于非空目录导致的失败
* `-p`, `--parents`: 递归删除所有目录, 如`rmdir -p a/b/c`等同于`rmdir a/b/c a/b a`

#### cd

更换目录

```bash
cd [目录]
```

* 目录类型
    - 绝对路径: `cd /usr/local/bin`
    - 相对路径: `cd ../../temp/bin`, `cd ./local`
    - 上一层目录: `cd ..`
    - 当前目录: `cd .`
    - 当前用户主目录: `cd ~`
    - 返回上一次所在目录: `cd -`

#### pwd

显示当前所在目录的绝对路径

```bash
pwd
```

### 文件流处理

#### od

使用八进制或其他格式输出文件

```bash
od [选项] [-A <字码基数>] [-j <字符数目>] [-N <字符数目>] [-s <字符串字符数>] [-t <输出格式>] [-w <每列字符数>] [文件...]
```

* `-a`: 此参数的效果和同时指定"-ta"参数相同
* `-A <字码基数>`: 选择要以何种基数计算字码
* `-b`: 此参数的效果和同时指定"-toC"参数相同
* `-c`: 此参数的效果和同时指定"-tC"参数相同
* `-d`: 此参数的效果和同时指定"-tu2"参数相同
* `-f`: 此参数的效果和同时指定"-tfF"参数相同
* `-h`: 此参数的效果和同时指定"-tx2"参数相同
* `-i`: 此参数的效果和同时指定"-td2"参数相同
* `-j <字符数目>`, `--skip-bytes=<字符数目>`:略过设置的字符数目
* `-l`: 此参数的效果和同时指定"-td4"参数相同
* `-N <字符数目>`, `--read-bytes=<字符数目>`:到设置的字符数目为止
* `-o`:此参数的效果和同时指定"-to2"参数相同
* `-s <字符串字符数>`, `--strings=<字符串字符数>`: 只显示符合指定的字符数目的字符串
* `-t <输出格式>`, `--format=<输出格式>`: 设置输出格式
* `-v`, `--output-duplicates`: 输出时不省略重复的数据
* `-w <每列字符数>`, `--width=<每列字符数>`: 设置每列的最大字符数
* `-x`: 此参数的效果和同时指定"-h"参数相同

#### tee

将标准输入流写入到标准输出流或文件

```bash
tee [选项]... [文件]...
```

* `-a`, `--append`: 追加到指定文件
* `-i`, `--ignore-interrupts`: 忽略中断信号
* `-p`: 诊断写入非管道的错误
* `--output-error[=MODE]`: 设置写入错误的行为


### awk

awk是一种文本扫描和处理语言
awk取自三位开发者姓名首字母

```bash
awk [选项] '脚本' var=value file...
awk [选项] -f 脚本文件 var=value file...
```

* `-F fs`, `--field-separator fs`: 指定输入文件折分隔符, fs是一个字符串或者是一个正则表达式, 如-F:
* `-v var=value`, `--asign var=value`: 赋值一个用户定义变量
* `-f scripfile`, `--file scriptfile`: 从脚本文件中读取awk命令
* `-mf nnn and -mr nnn`: 对nnn值设置内在限制, -mf选项限制分配给nnn的最大块数目; -mr选项限制记录的最大数目. 这两个功能是Bell实验室版awk的扩展功能, 在标准awk中不适用
* `-W compact`, `--compat`, `-W traditional`, `--traditional`: 在兼容模式下运行awk. 所以gawk的行为和标准的awk完全一样, 所有的awk扩展都被忽略
* `-W copyleft`, `--copyleft`, `-W copyright`, `--copyright`: 打印简短的版权信息
* `-W help`, `--help`, `-W usage`, `--usage`: 打印全部awk选项和每个选项的简短说明
* `-W lint`, `--lint`: 打印不能向传统unix平台移植的结构的警告
* `-W lint-old`, `--lint-old`: 打印关于不能向传统unix平台移植的结构的警告
* `-W posix`: 打开兼容模式. 但有以下限制, 不识别: `/x`, 函数关键字, func, 换码序列以及当fs是一个空格时, 将新行作为一个域分隔符; 操作符`**`和`**=`不能代替`^`和`^=`; fflush无效
* `-W re-interval`, `--re-inerval`: 允许间隔正则表达式的使用, 参考(grep中的Posix字符类), 如括号表达式`[[:alpha:]]`
* `-W source program-text`, `--source program-text`: 使用program-text作为源代码, 可与-f命令混用
* `-W version`, `--version`: 打印bug报告信息的版本


## 打包压缩

### tar

为文件或目录创建档案(**t**ouch **ar**chive), 打包为一个文件
只有打包, 解包, 本身不具备压缩解压功能, 是调用其他功能实现的

```bash
tar 必要参数 [可选参数] [文件|目录]
```

* 必要参数
    - `-A`: 新增压缩文件到已存在的压缩
    - `-B`: 设置区块大小
    - `-c`: 建立新的压缩文件
    - `-d`: 记录文件的差别
    - `-r`: 添加文件到已经压缩的文件
    - `-u`: 添加改变了和现有的文件到已经存在的压缩文件
    - `-x`: 从压缩的文件中提取文件
    - `-t`: 显示压缩文件的内容
    - `-z`: 支持gzip解压文件
    - `-j`: 支持bzip2解压文件
    - `-Z`: 支持compress解压文件
    - `-v`: 显示操作过程
    - `-l`: 文件系统边界设置
    - `-k`: 保留原有文件不覆盖
    - `-m`: 保留文件不被覆盖
    - `-W`: 确认压缩文件的正确性
* 可选参数
    - `-b`: 设置区块数目
    - `-C`: 切换到指定目录
    - `-f`: 指定压缩文件
* 常见命令
    - `.tar`文件
        - 解包: `tar xvf 文件.tar`
        - 打包: `tar cvf 文件.tar 目录`
    - `.gz`文件
        - 解压: `gunzip 文件.gz`
        - 解压: `gzip -d 文件.gz`
        - 压缩: `gzip 文件.gz`
    - `.tar.gz`和`.tgz`文件
        - 解压: `tar zxvf 文件.tar.gz`
        - 压缩: `tar zcvf 文件.tar.gz 目录`
    - `.tar.bz2`文件
        - 解压: `tar jxvf 文件.tar.bz2`
        - 压缩: `tar jcvf 文件.tar.bz2 目录`
    - `.tar.bz`文件
        - 解压: `tar jxvf 文件.tar.bz`
    - `.bz2`文件
        - 解压: `bzip2 -d 文件.bz2`
        - 解压: `bunzip2 文件.bz2`
        - 压缩: `bzip2 -z 文件.bz2`
    - `.bz`文件
        - 解压: `bzip2 -d 文件.bz`
        - 解压: `bunzip2 文件.bz`
    - `.Z`文件
        - 解压: `uncompress 文件.Z`
        - 压缩: `compress 文件.Z`
    - `.tar.Z`文件
        - 解压: `tar Zxvf 文件.tar.Z`
        - 压缩: `tar Zcvf 文件.tar.Z 目录`
    - `.zip`文件
        - 解压: `unzip 文件.zip`
        - 压缩: `zip 文件.zip 目录`
    - `.rar`文件
        - 解压: `rar x 文件.rar`
        - 压缩: `rar a 文件.rar 目录`

### gzip

对文件进行压缩

```bash
gzip [选项]... [文件|目录]
```

* `-a`, `--ascii`: 使用ASCII文字模式
* `-c`, --stdout`, `--to-stdout`: 把压缩后的文件输出到标准输出设备, 不去更动原始文件
* `-d`, `--decompress`, `--uncompress`: 解开压缩文件
* `-f`, `--force`: 强行压缩文件. 不理会文件名称或硬连接是否存在以及该文件是否为符号连接
* `-h`, `--help`: 在线帮助
* `-l`, `--list`: 列出压缩文件的相关信息
* `-L`, `--license`: 显示版本与版权信息
* `-n`, `--no-name`: 压缩文件时, 不保存原来的文件名称及时间戳记
* `-N`, `--name`: 压缩文件时, 保存原来的文件名称及时间戳记
* `-q`, `--quiet`: 不显示警告信息
* `-r`, `--recursive`: 递归处理, 将指定目录下的所有文件及子目录一并处理
* `-S <压缩字尾字符串>`, `--suffix <压缩字尾字符串>`: 更改压缩字尾字符串
* `-t`, `--test`: 测试压缩文件是否正确无误。
* `-v`, `--verbose`: 显示指令执行过程
* `-V`, `--version`: 显示版本信息
* `-num`: 用指定的数字num调整压缩的速度, `-1`或`--fast`表示最快压缩方法(低压缩比), `-9`或`--best`表示最慢压缩方法(高压缩比). 系统缺省值为6


## 文档操作

#### col

过滤控制字符
在许多UNIX说明文件里, 都有RLF控制字符. 当我们运用shell特殊字符`>`和`>>`, 把说明文件的内容输出成纯文本文件时, 控制字符会变成乱码, col指令则能有效滤除这些控制字符

```bash
col [选项]
```

* `-b`: 过滤掉所有的控制字符, 包括RLF和HRLF
* `-f`: 滤除RLF字符, 但允许将HRLF字符呈现出来
* `-x`: 以多个空格字符来表示跳格字符
* `-l <缓冲区列数>`: 预设的内存缓冲区有128列, 您可以自行指定缓冲区的大小


## 磁盘管理

#### df

查看系统磁盘占用情况

```bash
df [选项]... [文件]...
```

* `-a`: 全部文件系统列表
* `-h`: 方便阅读方式显示, 会自动显示合适的单位, 如K, M, G
* `-H`: 类似于`-h`, 但是计算时以1K=1000, 而不是1K=1024
* `-i`: 显示inode信息
* `-k`: 区块为1024字节
* `-l`: 只显示本地文件系统
* `-m`: 区块为1048576字节
* `--no-sync`: 忽略 sync 命令
* `-P`: 输出格式为POSIX
* `--sync`: 在取得磁盘信息前, 先执行sync命令
* `-T`: 文件系统类型
* `--block-size=<区块大小>`: 指定区块大小
* `-t <文件系统类型>`: 只显示选定文件系统的磁盘信息
* `-x <文件系统类型>`: 不显示选定文件系统的磁盘信息

#### du

查看指定文件或目录的磁盘占用情况

```bash
du [选项]... [文件]
```

* `-a`, `-all`: 显示目录中个别文件的大小
* `-b`, `-bytes`: 显示目录或文件大小时, 以byte为单位   
* `-c`, `--total`: 除了显示个别目录或文件的大小外, 同时也显示所有目录或文件的总和
* `-k`, `--kilobytes`: 以KB(1024bytes)为单位输出
* `-m`, `--megabytes`:以MB为单位输出  
* `-s`, `--summarize`:仅显示总计, 只列出最后加总的值
* `-h`, `--human-readable`: 以K, M, G为单位, 提高信息的可读性
* `-x`, `--one-file-xystem`: 以一开始处理时的文件系统为准, 若遇上其它不同的文件系统目录则略过
* `-L <符号链接>`, `--dereference <符号链接>`: 显示选项中所指定符号链接的源文件大小   
* `-S`, `--separate-dirs`: 显示个别目录的大小时, 并不含其子目录的大小
* `-X <文件>`, `--exclude-from=<文件>`: 在`<文件>`指定目录或文件
* `--exclude=<目录或文件>`: 略过指定的目录或文件    
* `-D`, `--dereference-args`: 显示指定符号链接的源文件大小   
* `-H`, `--si`: 与`-h`参数相同, 但是K, M, G是以1000为换算单位   
* `-l`, `--count-links`: 重复计算硬件链接的文件


## 性能监控和优化

#### ps

查看当前进程信息

```bash
ps [选项]

# 使用标准命令查看所有进程
ps -e
ps -ef
ps -eF
ps -ely

# 使用BSD命令查看所有进程
ps ax
ps axu

# 显示进程树
ps -ejH
ps axjf
```

#### top

实时显示系统中各个进程的资源占用状况, 类似于Windows的资源管理器

```bash
top [选项]...
```

* `-b`: 批处理
* `-c`: 显示完整的治命令
* `-I`: 忽略失效过程
* `-s`: 保密模式
* `-S`: 累积模式
* `-i <时间>`: 设置间隔时间
* `-u <用户名>`: 指定用户名
* `-p <进程号>`: 指定进程
* `-n <次数>`: 循环显示的次数

#### free

显示系统内存的使用和空闲情况

```bash
free [选项]...
```

* `-b`: 以byte为单位显示内存使用情况
* `-k`: 以KB为单位显示内存使用情况
* `-m`: 以MB为单位显示内存使用情况
* `-g`: 以GB为单位显示内存使用情况
* `-o`: 不显示缓冲区调节列
* `-s <间隔秒数>`: 持续观察内存使用情况
* `-t`: 显示内存总和列

#### vmstat

Virtual Memory Statistics, 虚拟内存统计. 对操作系统的虚拟内存, 进程, CPU活动进行监控.
不能对某个进程进行深入分析

```bash
vmstat [选项]...
```

* `-a`: 显示活跃和非活跃内存
* `-f`: 显示从系统启动至今的fork数量
* `-m`: 显示slabinfo
* `-n`: 只在开始时显示一次各字段名称
* `-s`: 显示内存相关统计信息及多种系统活动数量
* `delay`: 刷新时间间隔. 如果不指定, 则只显示一条结果
* `count`: 刷新次数. 如果不指定刷新次数, 但指定了刷新时间间隔, 这时刷新次数为无穷
* `-d`: 显示磁盘相关统计信息
* `-p`: 显示指定磁盘分区统计信息
* `-S`: 使用指定单位显示. 参数有k, K, m, M, 分别代表1000, 1024, 1000000, 1048576字节(byte). 默认单位为K(1024bytes)

#### iostat

I/O statistics, 输入输出统计. 对系统的磁盘操作活动进行监视, 如CPU, 网卡, tty设备, 磁盘, CD-ROM等设备的活动情况和负载信息
不能对某个进程进行深入分析
属于sysstat软件包, 如果没有该命令则需要手动安装

```bash
iostat [参数]... [时间] [次数]
```

* `-C`: 显示CPU使用情况
* `-d`: 显示磁盘使用情况
* `-k`: 以KB为单位显示
* `-m`: 以M为单位显示
* `-N`: 显示磁盘阵列(LVM)信息
* `-n`: 显示NFS使用情况
* `-p [磁盘]`: 显示磁盘和分区的情况
* `-t`: 显示终端和CPU的信息
* `-x`: 显示详细信息

#### lsof

list open files, 列出当前系统打开文件. 查看进程打开的文件, 打开文件的进程, 进程打开的端口, 找回删除的文件
该命令需要访问核心内存和各种文件, 所以需要root用户执行

```bash
lsof [选项]
```

* 可以打开的文件
    - 普通文件
    - 目录
    - 网络文件系统的文件
    - 字符或设备文件
    - (函数)共享库
    - 管道, 命名管道
    - 符号链接
    - 网络文件(如NFS file, 网络socket, unix域名socket)
* `-a`: 列出打开文件存在的进程
* `-c <进程名>`: 列出指定进程所打开的文件
* `-g`: 列出GID进程详情
* `-d <文件号>`: 列出占用该文件号的进程
* `+d <目录>`: 列出目录下被打开的文件
* `+D <目录>`: 递归列出目录下被打开的文件
* `-n <目录>`: 列出使用NFS的文件
* `-i <条件>`: 列出符合条件的进程
* `-p <进程号>`: 列出指定进程号所打开的文件
* `-u`: 列出UID号进程详情


## 网络命令

#### ifconfig

interfaces config, 网络接口配置. 查看和配置网络设备

```bash
ifconfig [网络设备] [选项]
```

* `up`: 启动指定网络设备/网卡
* `down`: 关闭指定网络设备/网卡. 该参数可以有效的组织通过指定接口的IP信息流, 如果想永久的关闭一个接口, 我们还需要从核心路由表中将该接口的路由信息全部删除. 注意, 在使用ssh时不要尝试关闭网卡, 否则你就无法再次连上主机
* `arp`: 设置指定网卡是否支持ARP协议
* `-promisc`: 设置是否支持王珂的promiscuous模式, 如果选择此参数, 网卡将接收网络中发给它所有的数据包
* `-allmulti`: 设置是否支持多播模式, 如果选择此参数, 网卡将接收网络中所有的多播数据包
* `-a`: 显示全部接口信息
* `-s`: 显示摘要信息(类似于netstat -i)
* `add`: 给指定网卡配置IPv6地址
* `del`: 删除指定网卡的IPv6地址
* `<硬件地址>`: 配置网卡最大的传输单元
* `mtu <字节数>`: 设置网卡的最大传输单元(bytes)
* `netmask <子网掩码>`: 设置网卡的子网掩码. 掩码可以是有前缀`0x`的32位十六进制数, 也可以是用点分开的4个十进制数. 如果不打算将网络分成子网, 可以不管这一选项; 如果要使用子网, 那么请记住, 网络中每一个系统必须有相同子网掩码
* `tunel`: 建立隧道
* `dstaddr`: 设定一个远端地址, 建立点对点通信
* `-broadcast <地址>`: 为指定网卡设置广播协议
* `-pointtopoint <地址>`: 为网卡设置点对点通讯协议
* `multicast`: 为网卡设置组播标志
* `address`: 为网卡设置IPv4地址
* `txqueuelen <长度>`: 为网卡设置传输队列的长度

#### route

显示和操作IP路由表

```bash
route [-f] [-p] [命令 [目标] [mask 掩码] [网关] [metric 跳数]] [if 接口]]
```

* `-c`: 显示更多信息
* `-n`: 不解析名字
* `-v`: 显示详细的处理信息
* `-F`: 显示发送信息
* `-C`: 显示路由缓存
* `-f`: 清楚所有网关入口的路由表
* `-p`: 与add命令一起使用时使路由具有永久性
* `add`: 添加一条新路由
* `del`: 删除一条路由
* `-net`: 目标地址是一个网络
* `-host`: 目标地址是一个主机
* `netmask`: 当添加一个网络路由时, 需要使用网络掩码
* `gw`: 路由数据包通过网关. 注意, 你指定的网关必须能够达到
* `metric`: 设置路由跳数
* `Command`: 指定想运行的命令
    - Add
    - Change
    - Delete
    - Print
* `Destination`: 指定该路由的网络目标
* `mask 掩码`: 指定与网络目标相关的网络掩码(也成为子网掩码)
* `网关`: 指定网络目标定义的地址集和子网掩码可以到达的前进或下一跃点IP地址
* `metric 跳数`: 为路由指定一个整数成本值标(1到9999), 当在路由表(与转发的数据包目标地址最匹配)的多个路由中进行选择时可以使用
* `if 接口`: 为可以访问目标的接口指定接口索引. 若要获得一个接口列表和他们相应的接口索引, 使用`route print`命令的显示功能, 可以使用十进制或十六进制值进行接口索引

#### ping

确定网络和外部主机的状态; 跟踪和隔离硬件和软件问题; 测试, 评估和管理网络

```bash
ping [选项] [主机名或IP地址]
```

* `-d`: 使用Socket的SO_DEBUG功能
* `-f`: 极限检测. 大量且快速的发送网络封包给一台机器, 看它的回应
* `-n`: 只输出数值
* `-q`: 不显示任何传送封包的信息, 只显示最后的结果
* `-r`: 忽略普通的路由表, 直接将数据包发送到远端主机上. 通常用于查看本机的网络是否有问题
* `-R`: 记录路由过程
* `-v`: 详细显示指令的执行过程
* `<p>-c 数目`: 在发送指定数目的包后停止
* `-i 秒`: 设定间隔几秒发送一个网络封包给一台机器, 预设值是一秒发送一次
* `-I 网络接口`: 使用指定的网络接口送出数据封包
* `-l 前置载入`: 设置在发送要求信息之前, 先行发出的数据包
* `-p 范本样式`: 设置填满数据包的范本样式
* `-s 字节数`: 指定发送的数据字节数, 预设值是56, 加上8字节的ICMP头, 一共是64ICMP数据字节
* `-t 存活数值`: 设置存活数值TTL的大小

#### traceroute

追踪网络数据包的路由途径

```bash
traceroute [选项] [主机]
```

* `-d`: 使用Socket层级的排错功能
* `-f`: 设置第一个检测数据包的存活数值TTL的大小
* `-F`: 设置勿离断位
* `-g`: 设置来源路由网关, 最多可设置8个
* `-i`: 使用指定的网络界面送出数据包
* `-I`: 使用ICMP回应取代UDP资料信息
* `-m`: 设置检测数据包的最大存活数值TTL的大小
* `-n`: 直接使用IP地址而非主机名称
* `-p`: 设置UDP传输协议的通信端口
* `-r`: 忽略普通的Routing Table, 直接将数据包送到远端主机上
* `-s`: 设置本地主机送出数据包的IP地址
* `-t`: 设置检测数据包的TOS数值
* `-v`: 详细显示指令的执行过程
* `-w`: 设置等待远端主机回报的时间
* `-x`: 开启或关闭数据包的正确性检验

#### netstat

显示与IP, TCP, UDP, ICMP协议相关的统计数据, 一般用于检验本机个端口的网络连接情况

```bash
netstat [选项] [-A <网络类型>] [--ip]
```

* `-a`, `–all`: 显示所有连线中的Socket
* `-A <网络类型>`, `–<网络类型>`: 列出该网络类型连线中的相关地址
* `-c`, `–continuous`: 持续列出网络状态
* `-C`, `–cache`: 显示路由器配置的快取信息
* `-e`, `–extend`: 显示网络其他相关信息
* `-F`, `–fib`: 显示FIB
* `-g`, `–groups`: 显示多重广播功能群组组员名单
* `-i`, `–interfaces`: 显示网络界面信息表单
* `-l`, `–listening`: 显示监控中的服务器的Socket
* `-M`, `–masquerade`: 显示伪装的网络连线
* `-n`, `–numeric`: 直接使用IP地址, 而不通过域名服务器
* `-N`, `–netlink`, `–symbolic`: 显示网络硬件外围设备的符号连接名称
* `-o`, `–timers`: 显示计时器
* `-p`, –programs`: 显示正在使用Socket的程序识别码和程序名称
* `-r`, `–route`: 显示Routing Table
* `-s`, `–statistice`: 显示网络工作信息统计表
* `-t`, `–tcp`: 显示TCP传输协议的连线状况
* `-u`, `–udp`: 显示UDP传输协议的连线状况
* `-v`, `–verbose`: 显示指令执行过程
* `-V`, `–version`: 显示版本信息
* `-w`, `–raw`: 显示RAW传输协议的连线状况
* `-x`, `–unix`: 此参数的效果和指定`-A unix`参数相同
* `–ip`, `–inet`: 此参数的效果和指定`-A inet`参数相同

#### ss

Socket Statistics, 获取Socket统计信息.
类似于netstat, 但能显示更多详细的TCP链接状态信息, 比netstat更快速高效. 当服务器socket链接数量变得非常大时, ss是最节省时间的

```bash
ss [参数] [过滤]
```

* `-h`, `--help`: 帮助信息
* `-V`, `--version`: 程序版本信息
* `-n`, `--numeric`: 不解析服务名称
* `-r`, `--resolve`: 解析主机名
* `-a`, `--all`: 显示所有套接字(sockets)
* `-l`, `--listening`: 显示监听状态的套接字(sockets)
* `-o`, `--options`: 显示计时器信息
* `-e`, `--extended`: 显示详细的套接字(sockets)信息
* `-m`, `--memory`: 显示套接字(socket)的内存使用情况
* `-p`, `--processes`: 显示使用套接字(socket)的进程
* `-i`, `--info`: 显示 TCP内部信息
* `-s`, `--summary`: 显示套接字(socket)使用概况
* `-4`, `--ipv4`: 仅显示IPv4的套接字(sockets)
* `-6`, `--ipv6`: 仅显示IPv6的套接字(sockets)
* `-0`, `--packet`: 显示 PACKET 套接字(socket)
* `-t`, `--tcp`: 仅显示 TCP套接字(sockets)
* `-u`, `--udp`: 仅显示 UCP套接字(sockets)
* `-d`, `--dccp`: 仅显示 DCCP套接字(sockets)
* `-w`, `--raw`: 仅显示 RAW套接字(sockets)
* `-x`, `--unix`: 仅显示 Unix套接字(sockets)
* `-f`, `--family=FAMILY`: 显示 FAMILY类型的套接字(sockets), FAMILY可选, 支持  unix, inet, inet6, link, netlink
* `-A`, `--query=QUERY`, `--socket=QUERY`
    - `QUERY := {all|inet|tcp|udp|raw|unix|packet|netlink}[,QUERY]`
* `-D`, `--diag=FILE`: 将原始TCP套接字(sockets)信息转储到文件
* `-F`, `--filter=FILE`: 从文件中都去过滤器信息
    - `FILTER := [ state TCP-STATE ] [ EXPRESSION ]`

#### telnet

远程登录主机

```bash
telnet [选项] [主机]
```

* `-8`: 允许使用8位字符资料, 包括输入与输出
* `-a`: 尝试自动登入远端系统
* `-b <主机别名>`: 使用别名指定远端主机名称
* `-c`: 不读取用户专属目录里的.telnetrc文件
* `-d`: 启动排错模式
* `-e <脱离字符>`: 设置脱离字符
* `-E`: 滤除脱离字符
* `-f`: 此参数的效果和指定`-F`参数相同
* `-F`: 使用Kerberos V5认证时, 加上此参数可把本地主机的认证数据上传到远端主机
* `-k <域名>`: 使用Kerberos认证时, 加上此参数让远端主机采用指定的领域名, 而非该主机的域名
* `-K`: 不自动登入远端主机
* `-l <用户名称>`: 指定要登入远端主机的用户名称
* `-L`: 允许输出8位字符资料
* `-n <记录文件>`: 指定文件记录相关信息
* `-r`: 使用类似rlogin指令的用户界面
* `-S <服务类型>`: 设置telnet连线所需的IP TOS信息
* `-x`: 假设主机有支持数据加密的功能, 就使用它
* `-X <认证形态>`: 关闭指定的认证形态

#### rcp

remote file copy, 远程文件拷贝. 用于在计算机之间拷贝文件
rcp有两种命令格式, 一种用于文件到文件的拷贝, 另一种用于吧文件 或目录拷贝到另一个目录中

```bash
rcp [选项] [源文件] [目标文件]
```

* `-r`: 递归地把源目录中的所有内容拷贝到目的目录中. 要使用这个选项, 目的必须是一个目录
* `-p`: 试图保留源文件的修改时间和模式, 忽略umask
* `-k`: 请求rcp获得在指定区域内的远程主机的Kerberos 许可, 而不是获得由krb_relmofhost⑶确定的远程主机区域内的远程主机的Kerberos许可.
* `-x`: 为传送的所有数据打开DES加密. 这会影响响应时间和CPU利用率, 但是可以提高安全性. 如果在文件名中指定的路径不是完整的路径名, 那么这个路径被解释为相对远程机上同名用户的主目录. 如果没有给出远程用户名, 就使用当前用户名. 如果远程机上的路径包含特殊shell字符, 需要用反斜线`\\`, 双引号`"`或单引号`'`括起来, 使所有的shell元字符都能被远程地解释. 需要说明的是, rcp不提示输入口令, 它通过rsh命令来执行拷贝
* `directory`: 每个文件或目录参数既可以是远程文件名也可以是本地文件名. 远程文件名具有如下形式: `rname@rhost:path`, 其中rname是远程用户名, rhost是远程计算机名, path是这个文件的路径

#### scp

secure copy, 加密的远程复制文件, 通过ssh登录.

```bash
scp [选项] [原路径] [目标路径]
```

* `-1`: 强制scp命令使用协议ssh1  
* `-2`: 强制scp命令使用协议ssh2  
* `-4`: 强制scp命令只使用IPv4寻址  
* `-6`: 强制scp命令只使用IPv6寻址  
* `-B`: 使用批处理模式(传输过程中不询问传输口令或短语)  
* `-C`: 允许压缩. (将-C标志传递给ssh, 从而打开压缩功能)  
* `-p`: 保留原文件的修改时间, 访问时间和访问权限  
* `-q`: 不显示传输进度条
* `-r`: 递归复制整个目录  
* `-v`: 详细方式显示输出. scp和ssh(1)会显示出整个过程的调试信息. 这些信息用于调试连接, 验证和配置问题   
* `-c cipher`: 以cipher将数据传输进行加密, 这个选项将直接传递给ssh
* `-F ssh_config`: 指定一个替代的ssh配置文件, 此参数直接传递给ssh  
* `-i identity_file`: 从指定文件中读取传输时使用的密钥文件, 此参数直接传递给ssh    
* `-l limit`: 限定用户所能使用的带宽, 以Kbit/s为单位     
* `-o ssh_option`: 如果习惯于使用ssh_config(5)中的参数传递方式
* `-P port`: 注意是大写的P, port是指定数据传输用到的端口号   
* `-S program`: 指定加密传输时所使用的程序. 此程序必须能够理解ssh(1)的选项


## 时间命令

#### date

显示或设定系统的日期和时间

```bash
date [选项]... [+格式]
```

* 选项:
    - `-d <字符串>`: 现实字符串所指的日期和时间. 字符串前后必须加上双引号
    - `-s <字符串>`: 根据字符串来设置日期和时间. 字符串前后必须加上双引号
    - `-u`: 显示GMT
* 时间格式化字符
    - `%H`: 小时(以00-23来表示)
    - `%I`: 小时(以01-12来表示)
    - `%K`: 小时(以0-23来表示)
    - `%l`: 小时(以0-12来表示)
    - `%M`: 分钟(以00-59来表示)
    - `%P`: AM或PM
    - `%r`: 时间(含时分秒，小时以12小时AM/PM来表示)
    - `%s`: 总秒数。起算时间为1970-01-01 00:00:00 UTC
    - `%S`: 秒(以本地的惯用法来表示)
    - `%T`: 时间(含时分秒，小时以24小时制来表示)
    - `%X`: 时间(以本地的惯用法来表示)
    - `%Z`: 市区
    - `%a`: 星期的缩写
    - `%A`: 星期的完整名称
    - `%b`: 月份英文名的缩写
    - `%B`: 月份的完整英文名称
    - `%c`: 日期与时间. 只输入date指令也会显示同样的结果
    - `%d`: 日期(以01-31来表示)。
    - `%D`: 日期(含年月日)
    - `%j`: 该年中的第几天
    - `%m`: 月份(以01-12来表示)
    - `%U`: 该年中的周数
    - `%w`: 该周的天数, 0代表周日, 1代表周一, 异词类推
    - `%x`: 日期(以本地的惯用法来表示)
    - `%y`: 年份(以00-99来表示)
    - `%Y`: 年份(以四位数来表示)
    - `%n`: 在显示时, 插入新的一行
    - `%t`: 在显示时, 插入tab
    - `MM`: 月份(必要)
    - `DD`: 日期(必要)
    - `hh`: 小时(必要)
    - `mm`: 分钟(必要)
    - `ss`: 秒(选择性)

#### cal

显示公历日历

```bash
cal [选项] [月份] [年份]
```

* `-1`: 显示一个月的月历
* `-3`: 显示上个月, 当前月, 下个月的月历
* `-s`: 使用星期天作为一个星期的第一天, 默认格式
* `-m`: 使用星期一作为一个星期的第一天
* `-j`: 显示今天是今年中的第几天
* `-y`: 显示今年的日历
* 常用命令:
    - `cal`: 显示本月日历
    - `cal 9 2012`: 显示2012年9月份的日历
    - `cal 2013`: 显示2013年全年的日历


## 其他常用命令

#### grep

Global Regular Expression Print, 全局正则表达式输出.
用于过滤/搜索特定字符. 可使用正则表达式与多种命令配合使用
可用于shell脚本, 如果搜索成功返回0; 如果搜索不到则返回1; 如果搜索的文件不存在则返回2

```bash
grep [选项] 正则表达式 文件
```

* 选项
    - `--color`: 在结果中高亮显示搜索关键字
    - `-a`, `--text`: 不要忽略二进制的数据
     - `-A<显示行数>`, `--after-context=<显示行数>`: 除了显示符合范本样式的那一列之外, 并显示该行之后的内容  
    - `-b`, `--byte-offset`: 在显示符合样式的那一行之前, 标示出该行第一个字符的编号
     - `-B <显示行数>`, `--before-context=<显示行数>`: 除了显示符合样式的那一行之外, 并显示该行之前的内容  
    - `-c`, `--count`: 计算符合样式的列数
     - `-C <显示行数>`, `--context=<显示行数>`, `-<显示行数>`: 除了显示符合样式的那一行之外, 并显示该行之前后的内容
     - `-d <动作>`, `--directories=<动作>`: 当指定要查找的是目录而非文件时, 必须使用这项参数, 否则grep指令将回报信息并停止动作
    - `-e <范本样式>`, `--regexp=<范本样式>`: 指定字符串做为查找文件内容的样式   
    - `-E`, `--extended-regexp`: 将样式为延伸的普通表示法来使用
    - `-f <规则文件>`, `--file=<规则文件>`: 指定规则文件, 其内容含有一个或多个规则样式, 让grep查找符合规则条件的文件内容, 格式为每行一个规则样式   
    - `-F`, `--fixed-regexp`: 将样式视为固定字符串的列表
    - `-G`, `--basic-regexp`: 将样式视为普通的表示法来使用
    - `-h`, `--no-filename`: 在显示符合样式的那一行之前, 不标示该行所属的文件名称   
    - `-H`, `--with-filename`: 在显示符合样式的那一行之前, 表示该行所属的文件名称   
    - `-i`, `--ignore-case`: 忽略字符大小写的差别
    - `-l`, `--file-with-matches`: 列出文件内容符合指定的样式的文件名称   
    - `-L`, `--files-without-match`: 列出文件内容不符合指定的样式的文件名称   
    - `-n`, `--line-number`: 在显示符合样式的那一行之前, 标示出该行的列数编号   
    - `-q`, `--quiet或--silent`: 不显示任何信息
    - `-r`, `--recursive`: 此参数的效果和指定`-d recurse`参数相同   
    - `-s`, `--no-messages`: 不显示错误信息   
    - `-v`, `--revert-match`: 显示不包含匹配文本的所有行
    - `-V`, `--version`: 显示版本信息   
    - `-w`, `--word-regexp`: 只显示全字符合的列   
    - `-x`, `--line-regexp`: 只显示全列符合的列   
    - `-y`: #此参数的效果和指定`-i`参数相同
* 正则表达式
    - `^`: 行的开头, 如`^grep`匹配所有以grep开头的行
    - `$`: 行的结尾, 如`$grep`匹配所有以grep结尾的行
    - `.`: 匹配一个非换行符的字符, 如`gr.p`匹配gr后接一个任意字符, 然后是p
    - `*`: 匹配零个或多个先前字符, 如`*grep`匹配所有一个或欧多个空格后紧跟grep的行
    - `.*`: 一起使用表示任意字符
    - `[]`: 匹配一个指定范围内的字符, 如`[Gg]rep`匹配Grep和grep
    - `[^]`: 匹配一个不在指定范围内的字符, 如`[^A-FH-Z]rep`匹配不包含A-R和T-Z的一个字母开头, 紧跟rep的行
    - `\(字符\)`: 匹配字符, 如`\(love\)`, 则love被标记为1
    - `\<`: 锚定单词的开始, 如`<grep`匹配包含以grep开头的单词的行
    - `\>`: 锚定单词的结束, 如`grep>`匹配包含以grep结尾的单词的行
    - `x\{m\}`: 匹配m个x字符, 如`o\{5\}`匹配5个o的行
    - `x\{m, \}`: 匹配至少m个x字符, 如`o\{5, \}`匹配至少有5个o的行
    - `x\{m, n\}`: 匹配m到n个x字符, 如`o\{5, 10\}`匹配5到10个o的行
    - `\w`: 匹配文字和数字字符, 也就是[A-Za-z0-9]
    - `\W`: 匹配一个或多个非单词字符, 如标点符号
    - `\b`: 单词锁定符, 如`\bgrep\b`只匹配grep


## 定时任务

#### watch

将命令的输出结果输出到标准输出设备, 多用于周期性执行命令/定时执行命令
可以帮你检测一个命令的运行结果
默认每2秒运行一下程序

```bash
watch [选项] [命令]
```

* `-n`, `--interval`: 指定运行的间隔时间
* `-d`, `--differences`: 高亮显示变化的区域
* `-d=cumulative`: 高亮显示所有变动过的地方
* `-t`, `-no-title`: 关闭watch命令在顶部的时间间隔命令

#### at

在指定时间执行一个指定的任务, 只执行一起
需要开启atd进程: /etc/init.d/atd start/restart

```bash
at [选项] [时间]
```

* `-m`: 当指定的任务被完成之后, 讲给用户发送右键, 即使没有标准输出
* `-I`: atq的别名, 加入任务队列
* `-d`: atrm的别名, 从任务队列中删除
* `-v`: 显示任务将被执行的时间
* `-c`: 打印任务的内容到标准输出
* `-q <队列>`: 使用指定的队列
* `-f <文件>`: 从指定文件读入任务而不是从标准输入读入
* `-t <时间参数>`: 以时间参数的形式提交要运行的任务

#### crontab

用于使用crond服务来配置周期性的定时任务

```bash
crontab [-u user] file
crontab [-u user] [选项]
```

* `-u user`: 设定某个用户的crontab服务, 此参数一般由root用于来执行
* `file`: 将某件作为任务列表文件并加载到crontab. 如果没有指定文件, 则会接收标准输入来输入要指定的文件并载入
* `-e`: 编辑某个用户的crontab文件. 如果不指定用户, 则编辑当前用户的crontab文件
* `-l`: 显示某个用户的crontab文件内容. 如果不指定用户, 则显示当前用户的crontab文件内容
* `-r`: 从`/var/spool/cron`目录中删除某个用户的crontab文件, 如果不指定用户, 则默认删除当前用户的crontab文件
* `-i`: 在删除用户的crontab文件时进行确认提示


## 网络下载

#### wget

* wget是一个命令行的下载文件的工具. 主要用于下载文件
* 支持断点续传, FTP, HTTP

```bash
wget [选项] url
```

* 无选项: 下载单个文件
* `-O`: 指定下载文件的文件名, 即重命名
* `--limit-rate=xxxk`: 限制下载速度
* `-c`: 继续之前的下载, 即断点续传
* `-b`: 后台下载
* `--user-agent="<ua>"`: 设置UA
* `--spider`: 测试下载链接是否有效
* `--tries=<重试数>`: 设置失败重试次数
* `-i <file>`: 从保存多个url的文件中添加多个url进行下载. 文件中一行一个url
* `--mirror -p --convert-links -P ./local`: 镜像网站, 即下载整个网站
    - `--mirror`: 镜像下载
    - `-p`: 下载所有html
    - `--convert-links`: 下载后转换超链接为本地链接
    - `-P <dir>`: 保存所有文件和目录到指定目录
* `--reject=<文件格式>`: 拒绝下载指定格式的文件, 如gif
* `-o <file>`: 将下载信息保存到文件中
* `-Q<文件大小>`: 限制下载文件的大小
* `-r -A`: 下载指定格式的文件
* `--ftp-user=<username> --ftp-password=<password>`: 使用ftp认证进行下载

#### curl

* curl是一个HTTP命令行工具, 支持文件上传下载. 主要用于HTTP测试
* curl相较于wget有更丰富的HTTP设置

```bash
curl [选项] [url]
```

* `-A`, `--user-agent`: 设置UA
* `-b`, `--cookie <name=字符串/文件>`: cookie字符串或文件读取位置
* `-c`, `--cookie-jar <文件>`: 操作结束后把cookie写入到这个文件中
* `-C`, `--continue-at <offset>`: 断点续转
* `-D`, `--dump-header <file>`: 把header信息写入到该文件中
* `-e`, `--referer`: 来源网址
* `-f`, `--fail`: 连接失败时不显示http错误
* `-o`, `--output`: 把输出写到该文件中
* `-O`, `--remote-name`: 把输出写到该文件中，保留远程文件的文件名
* `-r`, `--range <range>`: 检索来自HTTP/1.1或FTP服务器字节范围
* `-s`, `--silent`: 静音模式。不输出任何东西
* `-T`, `--upload-file <file>`: 上传文件
* `-u`, `--user <user[:password]>`: 设置服务器的用户和密码
* `-w`, `--write-out [format]`: 什么输出完成后(???)
* `-x`, `--proxy <host[:port]>`: 在给定的端口上使用HTTP代理
* `-#`, `--progress-bar`: 进度条显示当前的传送状态
